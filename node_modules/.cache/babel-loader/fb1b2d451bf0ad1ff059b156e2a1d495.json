{"ast":null,"code":"var _jsxFileName = \"/Users/startaiyo/bohl/bohlapp/src/components/submitform.js\";\nimport axios from 'axios';\nimport React from 'react';\nimport Dropzone from 'react-dropzone';\nimport gql from 'graphql-tag';\nimport { Mutation } from 'react-apollo';\nimport FormItemContent from 'components/molcules/FormItemContent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Container extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.onClickSubmit = async (e, onSubmitMutation) => {\n      e.preventDefault();\n      await onSubmitMutation({\n        variables: {\n          input: {\n            profileImage: this.state.profileImage\n          }\n        }\n      });\n    };\n\n    this.onChangeImage = files => {\n      const file = files[0];\n      const reader = new FileReader();\n\n      reader.onload = e => {\n        this.props.setState({\n          profileImage: e.target.result\n        });\n      };\n\n      reader.readAsDataURL(file);\n    };\n\n    this.state = {\n      profileImage: null\n    };\n  } // mutationリクエスト\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Dropzone, {\n        onDrop: this.onChangeImage,\n        accept: \"image/*\",\n        children: /*#__PURE__*/_jsxDEV(FormItemContent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Mutation, {\n        mutation: updateUserProfileImage,\n        children: onSubmitMutation => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClickSubmit: e => this.onClickSubmit(e, onSubmitMutation)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Container;","map":{"version":3,"sources":["/Users/startaiyo/bohl/bohlapp/src/components/submitform.js"],"names":["axios","React","Dropzone","gql","Mutation","FormItemContent","Container","PureComponent","constructor","props","onClickSubmit","e","onSubmitMutation","preventDefault","variables","input","profileImage","state","onChangeImage","files","file","reader","FileReader","onload","setState","target","result","readAsDataURL","render","updateUserProfileImage"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,eAAP,MAA4B,qCAA5B;;;AAEA,MAAMC,SAAN,SAAwBL,KAAK,CAACM,aAA9B,CAA4C;AAC1CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAQnBC,aARmB,GAQH,OAAOC,CAAP,EAAUC,gBAAV,KAA+B;AAC7CD,MAAAA,CAAC,CAACE,cAAF;AACA,YAAMD,gBAAgB,CAAC;AAAEE,QAAAA,SAAS,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,YAAY,EAAE,KAAKC,KAAL,CAAWD;AAA3B;AAAT;AAAb,OAAD,CAAtB;AACD,KAXkB;;AAAA,SAcnBE,aAdmB,GAcHC,KAAK,IAAI;AACvB,YAAMC,IAAI,GAAGD,KAAK,CAAC,CAAD,CAAlB;AACA,YAAME,MAAM,GAAG,IAAIC,UAAJ,EAAf;;AACAD,MAAAA,MAAM,CAACE,MAAP,GAAgBZ,CAAC,IAAI;AACnB,aAAKF,KAAL,CAAWe,QAAX,CAAoB;AAClBR,UAAAA,YAAY,EAAEL,CAAC,CAACc,MAAF,CAASC;AADL,SAApB;AAGD,OAJD;;AAKAL,MAAAA,MAAM,CAACM,aAAP,CAAqBP,IAArB;AACD,KAvBkB;;AAEjB,SAAKH,KAAL,GAAa;AACXD,MAAAA,YAAY,EAAE;AADH,KAAb;AAGD,GANyC,CAQ1C;;;AAkBAY,EAAAA,MAAM,GAAG;AACP,wBACE,QAAC,QAAD;AAAA,8BACE,QAAC,QAAD;AAAU,QAAA,MAAM,EAAE,KAAKV,aAAvB;AAAsC,QAAA,MAAM,EAAC,SAA7C;AAAA,+BACE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,QAAD;AACE,QAAA,QAAQ,EAAEW,sBADZ;AAAA,kBAGGjB,gBAAgB,iBACf;AACE,UAAA,aAAa,EAAED,CAAC,IAAI,KAAKD,aAAL,CAAmBC,CAAnB,EAAsBC,gBAAtB;AADtB;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAgBD;;AA3CyC;;AA6C5C,eAAeN,SAAf","sourcesContent":["import axios from 'axios';\nimport React from 'react';\nimport Dropzone from 'react-dropzone';\nimport gql from 'graphql-tag'\nimport { Mutation } from 'react-apollo'\nimport FormItemContent from 'components/molcules/FormItemContent'\n\nclass Container extends React.PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      profileImage: null,\n    }\n  }\n\n  // mutationリクエスト\n  onClickSubmit = async (e, onSubmitMutation) => {\n    e.preventDefault()\n    await onSubmitMutation({ variables: { input: { profileImage: this.state.profileImage } } })\n  }\n\n  // ファイルのエンコード\n  onChangeImage = files => {\n    const file = files[0]\n    const reader = new FileReader()\n    reader.onload = e => {\n      this.props.setState({\n        profileImage: e.target.result\n      })\n    }\n    reader.readAsDataURL(file)\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <Dropzone onDrop={this.onChangeImage} accept=\"image/*\">\n          <FormItemContent />\n        </Dropzone>\n        <Mutation\n          mutation={updateUserProfileImage}\n        >\n          {onSubmitMutation => (\n            <button\n              onClickSubmit={e => this.onClickSubmit(e, onSubmitMutation)}\n            />\n          )}\n        </Mutation>\n      </Fragment>\n    )\n  }\n}\nexport default Container;"]},"metadata":{},"sourceType":"module"}